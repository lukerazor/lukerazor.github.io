import{_ as b,r as f,g as U,c as d,a as e,h as w,F as v,e as _,i as V,o as m,w as i,v as r,t as u}from"./index-BqpfIq7h.js";const L=""+new URL("../bauer_logo.png",import.meta.url).href,R=""+new URL("../bauer_travel.png",import.meta.url).href,k=""+new URL("../bauer_danger.png",import.meta.url).href,q=""+new URL("../bauer_events.png",import.meta.url).href,I=""+new URL("../bauer_colour_red.png",import.meta.url).href,N=""+new URL("../bauer_colour_yellow.png",import.meta.url).href,$=""+new URL("../bauer_colour_blue.png",import.meta.url).href,y=""+new URL("../bauer_colour_purple.png",import.meta.url).href,S=""+new URL("../bauer_colour_green.png",import.meta.url).href,B=""+new URL("../bauer_quests.png",import.meta.url).href,D=""+new URL("../bauer_night.png",import.meta.url).href,M=""+new URL("../bauer_points.png",import.meta.url).href,E={class:"page"},F={class:"buttons"},G={class:"subgrid span-2"},Q={class:"span-2"},j=["onUpdate:modelValue"],x=["onUpdate:modelValue"],z=["onUpdate:modelValue"],A=["onUpdate:modelValue"],O=["onUpdate:modelValue"],H=["onUpdate:modelValue"],J=["onUpdate:modelValue"],K=["onUpdate:modelValue"],W=["onUpdate:modelValue"],X={class:"array-grid span-2"},Y=["onClick"],Z=["onUpdate:modelValue"],tt={class:"array-grid span-2"},nt=["onClick"],et=["onUpdate:modelValue"],ot={class:"total-row"},at={__name:"bauer_scorer",setup(st){const l=f([]),p=U({gridTemplateColumns:"min-content"});function C(){console.log("adding"),l.value.push(new T),p.gridTemplateColumns=`min-content repeat(${l.value.length*2}, 1fr)`}function h(){l.value=[],p.gridTemplateColumns="min-content"}function P(c){if(c==0)return 0;const o=l.value.map(s=>s.dangerIconCount),t=(s,g=0)=>({iconCount:s,numPlayers:g,points:0});let a=t(0),n=t(0);return o.forEach(s=>{s>a.iconCount?(n=structuredClone(a),a=t(s,1)):s==a.iconCount?a.numPlayers+=1:s>n.iconCount?n=t(s,1):(s=n.iconCount)&&(n.numPlayers+=1)}),console.log(a),console.log(n),a.numPlayers>1?a.points=Math.ceil(18/a.numPlayers):(a.points=12,n.numPlayers!=0&&(n.points=Math.ceil(6/n.numPlayers))),a.iconCount==c?a.points:n.iconCount==c?n.points:0}class T{name="";travelCardCount=0;dangerIconCount=0;eventPoints=0;redTagCount=0;yellowTagCount=0;blueTagCount=0;purpleTagCount=0;greenTagCount=0;questCardPoints=[];nightCardPoints=[];travelPoints(){return this.travelCardCount<=5?[0,1,3,7,12,18][this.travelCardCount]:18+(this.travelCardCount-5)*4}dangerPoints(){return P(this.dangerIconCount)}tagPoints(o){return o>=4?o:0}redTagPoints(){return this.tagPoints(this.redTagCount)}yellowTagPoints(){return this.tagPoints(this.yellowTagCount)}blueTagPoints(){return this.tagPoints(this.blueTagCount)}purpleTagPoints(){return this.tagPoints(this.purpleTagCount)}greenTagPoints(){return this.tagPoints(this.greenTagCount)}grandTotal(){var o=this.travelPoints()+this.dangerPoints()+this.eventPoints+this.redTagPoints()+this.yellowTagPoints()+this.blueTagPoints()+this.purpleTagPoints()+this.greenTagPoints();return o+=this.nightCardPoints.reduce((t,a)=>t+a,0),o+=this.questCardPoints.reduce((t,a)=>t+a,0),o}addNightCard(){this.nightCardPoints.push(0)}addQuest(){this.questCardPoints.push(0)}}return(c,o)=>(m(),d("div",E,[o[7]||(o[7]=e("img",{class:"logo",src:L},null,-1)),e("div",F,[e("button",{onClick:o[0]||(o[0]=t=>h())},"New Game"),e("button",{onClick:o[1]||(o[1]=t=>C())},"Add Player")]),e("div",{class:"score-grid",style:V(p)},[o[6]||(o[6]=w('<div data-v-6a6c5ed8></div><div data-v-6a6c5ed8></div><div data-v-6a6c5ed8><img src="'+R+'" data-v-6a6c5ed8></div><div data-v-6a6c5ed8><img src="'+k+'" data-v-6a6c5ed8></div><div data-v-6a6c5ed8><img src="'+q+'" data-v-6a6c5ed8></div><div data-v-6a6c5ed8><img src="'+I+'" data-v-6a6c5ed8></div><div data-v-6a6c5ed8><img src="'+N+'" data-v-6a6c5ed8></div><div data-v-6a6c5ed8><img src="'+$+'" data-v-6a6c5ed8></div><div data-v-6a6c5ed8><img src="'+y+'" data-v-6a6c5ed8></div><div data-v-6a6c5ed8><img src="'+S+'" data-v-6a6c5ed8></div><div data-v-6a6c5ed8><img src="'+B+'" data-v-6a6c5ed8></div><div data-v-6a6c5ed8><img src="'+D+'" data-v-6a6c5ed8></div><div class="total-row" data-v-6a6c5ed8>Total</div>',13)),(m(!0),d(v,null,_(l.value,(t,a)=>(m(),d("div",G,[e("div",Q,[i(e("input",{"onUpdate:modelValue":n=>l.value[a].name=n,class:"fill-cell"},null,8,j),[[r,l.value[a].name]])]),o[2]||(o[2]=e("span",null,"#",-1)),o[3]||(o[3]=e("img",{src:M,class:"icon_small"},null,-1)),i(e("input",{type:"number",inputmode:"numeric",class:"spinner",min:"0","onUpdate:modelValue":n=>t.travelCardCount=n},null,8,x),[[r,t.travelCardCount]]),e("span",null,u(t.travelPoints()),1),i(e("input",{type:"number",min:"0","onUpdate:modelValue":n=>t.dangerIconCount=n},null,8,z),[[r,t.dangerIconCount]]),e("span",null,u(t.dangerPoints()),1),o[4]||(o[4]=e("div",null,null,-1)),i(e("input",{type:"number",min:"0","onUpdate:modelValue":n=>t.eventPoints=n},null,8,A),[[r,t.eventPoints]]),i(e("input",{type:"number",min:"0","onUpdate:modelValue":n=>t.redTagCount=n},null,8,O),[[r,t.redTagCount]]),e("span",null,u(t.redTagPoints()),1),i(e("input",{type:"number",min:"0","onUpdate:modelValue":n=>t.yellowTagCount=n},null,8,H),[[r,t.yellowTagCount]]),e("span",null,u(t.yellowTagPoints()),1),i(e("input",{type:"number",min:"0","onUpdate:modelValue":n=>t.blueTagCount=n},null,8,J),[[r,t.blueTagCount]]),e("span",null,u(t.blueTagPoints()),1),i(e("input",{type:"number",min:"0","onUpdate:modelValue":n=>t.purpleTagCount=n},null,8,K),[[r,t.purpleTagCount]]),e("span",null,u(t.purpleTagPoints()),1),i(e("input",{type:"number",min:"0","onUpdate:modelValue":n=>t.greenTagCount=n},null,8,W),[[r,t.greenTagCount]]),e("span",null,u(t.greenTagPoints()),1),e("div",X,[e("button",{onClick:n=>t.addQuest()},"+",8,Y),(m(!0),d(v,null,_(t.questCardPoints,(n,s)=>i((m(),d("input",{type:"number",min:"0","onUpdate:modelValue":g=>t.questCardPoints[s]=g},null,8,Z)),[[r,t.questCardPoints[s]]])),256))]),e("div",tt,[e("button",{onClick:n=>t.addNightCard()},"+",8,nt),(m(!0),d(v,null,_(t.nightCardPoints,(n,s)=>i((m(),d("input",{type:"number",min:"0","onUpdate:modelValue":g=>t.nightCardPoints[s]=g},null,8,et)),[[r,t.nightCardPoints[s]]])),256))]),o[5]||(o[5]=e("div",null,null,-1)),e("span",ot,u(t.grandTotal()),1)]))),256))],4)]))}},rt=b(at,[["__scopeId","data-v-6a6c5ed8"]]);export{rt as default};
