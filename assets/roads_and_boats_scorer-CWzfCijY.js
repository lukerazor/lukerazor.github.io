import{r as p,c as r,a as o,F as c,e as _,h as U,o as i,t as v,w as l,v as a}from"./index-BqpfIq7h.js";const g=""+new URL("../roadsandboats_brick_white.png",import.meta.url).href,x=""+new URL("../roadsandboats_gold.png",import.meta.url).href,B=""+new URL("../roadsandboats_coins.png",import.meta.url).href,V=""+new URL("../roadsandboats_share.png",import.meta.url).href,L=""+new URL("../roadsandboats_art.png",import.meta.url).href,R=""+new URL("../roadsandboats_exhibit.png",import.meta.url).href,y={class:"page"},C={class:"pyramid"},P=["src"],j={key:1,src:"./roadsandboats_brick_none.png",class:"brick no-brick"},E={class:"pyramid-buttons"},I=["src","onClick"],S={class:"score-grid"},$={class:"subgrid"},A=["src"],D=["onUpdate:modelValue"],F=["onUpdate:modelValue"],M=["onUpdate:modelValue"],N=["onUpdate:modelValue"],T=["onUpdate:modelValue"],J=["onUpdate:modelValue"],G={__name:"roads_and_boats_scorer",setup(q){const u=["red","green","blue","yellow","grey","black"];class b{rows=[];constructor(){const t=[4,4,4,5,5,5,5,6,6,6,6,6,7,7,7];for(let s of t)this.rows.push(Array(s).fill(null))}addBrick(t){for(let s=0;s<this.rows.length;s++)for(let n=0;n<this.rows[s].length;n++)if(this.rows[s][n]==null){this.rows[s][n]=t;return}}removeLastBrick(){for(let t=this.rows.length-1;t>=0;t--)for(let s=this.rows[t].length-1;s>=0;s--)if(this.rows[t][s]!=null){this.rows[t][s]=null;return}}calculatePoints(){const t={};return u.forEach(s=>t[s]=0),this.rows.forEach(s=>{const n=s.filter(d=>d!=null&&d!="white");u.forEach(d=>{const h=n.filter(f=>f==d).length;h>0&&(t[d]+=Math.floor(10/n.length*h))})}),t}}class w{colour=null;gold=0;coins=0;shares=0;art=0;exhibits=0;jumpstartBids=0;constructor(t){this.colour=t}score(){return e.value.calculatePoints()[this.colour]+this.gold*10+this.coins*40+this.shares*120+(this.exhibits+1)*this.art*20-this.jumpstartBids}}const e=p(new b),k=p(u.map(m=>new w(m)));return(m,t)=>(i(),r("div",y,[t[3]||(t[3]=o("h1",null,"Roads and Boats Scoring",-1)),o("div",C,[(i(!0),r(c,null,_(e.value.rows.toReversed(),s=>(i(),r("div",null,[(i(!0),r(c,null,_(s,n=>(i(),r(c,null,[n!=null?(i(),r("img",{key:0,src:"./roadsandboats_brick_"+n+".png",class:"brick"},null,8,P)):(i(),r("img",j))],64))),256))]))),256))]),o("div",E,[(i(),r(c,null,_(u,s=>o("img",{class:"brick",src:"./roadsandboats_brick_"+s+".png",onClick:n=>e.value.addBrick(s)},null,8,I)),64)),o("img",{src:g,class:"brick",onClick:t[0]||(t[0]=s=>e.value.addBrick("white"))}),o("button",{onClick:t[1]||(t[1]=s=>e.value.removeLastBrick())},"Undo")]),o("div",S,[t[2]||(t[2]=U('<div></div><div><img src="'+g+'" class="brick"></div><div><img src="'+x+'" class="icon"> x 10 </div><div><img src="'+B+'" class="icon"> x 40 </div><div><img src="'+V+'" class="icon"> x 120 </div><div><img src="'+L+'" class="icon"> x 20 </div><div><img src="'+R+'" class="icon"> x Art </div><div> Jumpstart Bid (-) </div><div> Total </div>',9)),(i(!0),r(c,null,_(k.value,s=>(i(),r("div",$,[o("div",null,[o("img",{src:"./roadsandboats_brick_"+s.colour+".png",class:"brick"},null,8,A)]),o("div",null,[o("span",null,v(e.value.calculatePoints()[s.colour]),1)]),o("div",null,[l(o("input",{type:"number","onUpdate:modelValue":n=>s.gold=n},null,8,D),[[a,s.gold]])]),o("div",null,[l(o("input",{type:"number","onUpdate:modelValue":n=>s.coins=n},null,8,F),[[a,s.coins]])]),o("div",null,[l(o("input",{type:"number","onUpdate:modelValue":n=>s.shares=n},null,8,M),[[a,s.shares]])]),o("div",null,[l(o("input",{type:"number","onUpdate:modelValue":n=>s.art=n},null,8,N),[[a,s.art]])]),o("div",null,[l(o("input",{type:"number","onUpdate:modelValue":n=>s.exhibits=n},null,8,T),[[a,s.exhibits]])]),o("div",null,[l(o("input",{type:"number",step:"5","onUpdate:modelValue":n=>s.jumpstartBids=n},null,8,J),[[a,s.jumpstartBids]])]),o("div",null,v(s.score()),1)]))),256))])]))}};export{G as default};
